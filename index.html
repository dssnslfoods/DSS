<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSL DSS Portal</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Tailwind Config for Animations -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse-slow': 'pulse-slow 8s ease-in-out infinite',
                        'float': 'float 10s ease-in-out infinite',
                        'slide-in-up': 'slide-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'slide-in-right': 'slide-in-right 0.5s ease-out forwards',
                        'fade-in': 'fade-in 0.3s ease-out forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        'pulse-slow': {
                            '0%, 100%': { opacity: '0.5', transform: 'scale(1)' },
                            '50%': { opacity: '0.8', transform: 'scale(1.1)' },
                        },
                        'slide-in-up': {
                            'from': { opacity: '0', transform: 'translateY(20px)' },
                            'to': { opacity: '1', transform: 'translateY(0)' },
                        },
                        'slide-in-right': {
                            'from': { opacity: '0', transform: 'translateX(-10px)' },
                            'to': { opacity: '1', transform: 'translateX(0)' },
                        },
                        'fade-in': {
                            'from': { opacity: '0' },
                            'to': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.5);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-[#0f172a] text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS (Inline SVG components) ---
        const IconWrapper = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const LayoutDashboard = (props) => <IconWrapper {...props}><rect width="7" height="9" x="3" y="3" rx="1" /><rect width="7" height="5" x="14" y="3" rx="1" /><rect width="7" height="9" x="14" y="12" rx="1" /><rect width="7" height="5" x="3" y="16" rx="1" /></IconWrapper>;
        const Plus = (props) => <IconWrapper {...props}><path d="M5 12h14"/><path d="M12 5v14"/></IconWrapper>;
        const ExternalLink = (props) => <IconWrapper {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></IconWrapper>;
        const BarChart3 = (props) => <IconWrapper {...props}><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></IconWrapper>;
        const Palette = (props) => <IconWrapper {...props}><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></IconWrapper>;
        const PieChart = (props) => <IconWrapper {...props}><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></IconWrapper>;
        const Settings = (props) => <IconWrapper {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></IconWrapper>;
        const Search = (props) => <IconWrapper {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></IconWrapper>;
        const Bell = (props) => <IconWrapper {...props}><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></IconWrapper>;
        const User = (props) => <IconWrapper {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconWrapper>;
        const Briefcase = (props) => <IconWrapper {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></IconWrapper>;
        const X = (props) => <IconWrapper {...props}><path d="M18 6 6 18"/><path d="m6 6 18 18"/></IconWrapper>;
        const Code = (props) => <IconWrapper {...props}><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></IconWrapper>;
        const Globe = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></IconWrapper>;
        const Menu = (props) => <IconWrapper {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></IconWrapper>;
        const Sparkles = (props) => <IconWrapper {...props}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H5"/><path d="M18 19v4"/><path d="M22 21h-4"/></IconWrapper>;
        const ChevronDown = (props) => <IconWrapper {...props}><path d="m6 9 6 6 6-6"/></IconWrapper>;

        // --- 1. Constants & Data ---

        const INITIAL_APPS = [
          {
            id: 5,
            title: "Sustainability Financial Impact",
            description: "Analyze the financial implications and ROI of sustainability initiatives (SD).",
            category: "Analytics",
            url: "", 
            icon: "globe",
            color: "from-emerald-600 to-green-500",
            badge: "New Report",
            options: [
              { label: "SD Financial Impact 2024-2025", url: "https://dssnslfoods.github.io/DSS/report4_sd.html" }
            ]
          },
          {
            id: 4,
            title: "Candidate Interview",
            description: "Select a position below to launch the specific interview question set.",
            category: "HR",
            url: "", 
            icon: "user",
            color: "from-orange-500 to-red-500",
            badge: "HR Excellence",
            options: [
              { label: "Factory Manager", url: "https://dssnslfoods.github.io/DSS/candidate_question_factorymanager.html" },
              { label: "IR Officer", url: "https://dssnslfoods.github.io/DSS/candidate1.html" }
            ]
          },
          {
            id: 1,
            title: "Restaurant Finder",
            description: "AI-powered tool to discover and categorize restaurant data.",
            category: "Others",
            url: "https://dssnslfoods.github.io/DSS/restaurant.html",
            icon: "search",
            color: "from-pink-500 to-rose-500"
          },
          {
            id: 2,
            title: "Meeting Summary",
            description: "Automated meeting notes and corporate assistance tool.",
            category: "Others",
            url: "https://dss-meeting-assistance-625395946978.us-west1.run.app/",
            icon: "briefcase",
            color: "from-blue-500 to-cyan-500"
          },
          {
            id: 3,
            title: "Financial Advisor",
            description: "Interactive financial reporting and advisory dashboard.",
            category: "Others",
            url: "https://studio--studio-3888922975-640fd.us-central1.hosted.app/?reportId=dda7e54e-e973-4a14-81fe-08f58843cd86",
            icon: "finance",
            color: "from-emerald-500 to-teal-500"
          }
        ];

        const CATEGORIES = ["All", "Analytics", "Marketing", "HR", "Design", "Development", "Corporate", "IR Project", "Others"];

        // --- 2. Subcomponents ---

        const NavItem = ({ icon, label, active }) => (
            <button className={`w-full flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300 group ${
                active 
                ? 'bg-gradient-to-r from-indigo-600/20 to-purple-600/20 text-white border border-purple-500/30 shadow-[0_0_15px_rgba(139,92,246,0.15)]' 
                : 'text-slate-400 hover:bg-white/5 hover:text-white'
            }`}>
                <div className={`transition-transform duration-300 ${active ? 'scale-110 text-purple-400' : 'group-hover:scale-110 group-hover:text-white'}`}>
                    {icon}
                </div>
                <span className={`font-medium text-sm tracking-wide ${active ? 'font-semibold' : ''}`}>{label}</span>
                {active && <div className="ml-auto w-1.5 h-1.5 rounded-full bg-purple-400 shadow-[0_0_8px_rgba(192,132,252,0.8)]"></div>}
            </button>
        );

        const GlassStatCard = ({ title, value, trend, positive, icon, color, delay }) => (
            <div 
                className="relative overflow-hidden bg-slate-800/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 hover:bg-slate-800/60 transition-all duration-300 group animate-slide-in-up"
                style={{ animationDelay: `${delay}ms` }}
            >
                <div className="absolute top-0 right-0 w-20 h-20 bg-white/5 rounded-full blur-2xl -mr-10 -mt-10 group-hover:bg-white/10 transition-all"></div>
                
                <div className="flex justify-between items-start mb-4 relative z-10">
                    <div className={`p-2.5 rounded-xl bg-slate-900/80 border border-white/5 ${color} shadow-lg`}>
                        {icon}
                    </div>
                    <span className={`text-xs font-bold px-2.5 py-1 rounded-full border ${
                        positive 
                        ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20' 
                        : 'bg-rose-500/10 text-rose-400 border-rose-500/20'
                    }`}>
                        {trend}
                    </span>
                </div>
                <h3 className="text-3xl font-bold text-white mb-1 tracking-tight">{value}</h3>
                <p className="text-sm text-slate-400 font-medium">{title}</p>
            </div>
        );

        const SpotlightCard = ({ app, index, onDelete }) => {
            const divRef = useRef(null);
            const [position, setPosition] = useState({ x: 0, y: 0 });
            const [opacity, setOpacity] = useState(0);
            
            // State for Dropdown logic
            const hasOptions = app.options && app.options.length > 0;
            const [selectedUrl, setSelectedUrl] = useState(hasOptions ? app.options[0].url : app.url);

            const handleMouseMove = (e) => {
                if (!divRef.current) return;
                const div = divRef.current;
                const rect = div.getBoundingClientRect();
                setPosition({ x: e.clientX - rect.left, y: e.clientY - rect.top });
            };

            const handleMouseEnter = () => setOpacity(1);
            const handleMouseLeave = () => setOpacity(0);

            const getIcon = (type) => {
                const props = { size: 28, className: "text-white drop-shadow-md" };
                switch(type) {
                    case 'chart': return <BarChart3 {...props} />;
                    case 'finance': return <PieChart {...props} />;
                    case 'palette': return <Palette {...props} />;
                    case 'globe': return <Globe {...props} />;
                    case 'search': return <Search {...props} />;
                    case 'briefcase': return <Briefcase {...props} />;
                    case 'user': return <User {...props} />;
                    default: return <Code {...props} />;
                }
            };

            return (
                <div
                    ref={divRef}
                    onMouseMove={handleMouseMove}
                    onMouseEnter={handleMouseEnter}
                    onMouseLeave={handleMouseLeave}
                    style={{ animationDelay: `${index * 100}ms` }}
                    className="relative h-full w-full rounded-2xl border border-white/10 bg-slate-800/40 backdrop-blur-md overflow-hidden group animate-slide-in-up hover:scale-[1.02] transition-transform duration-300"
                >
                    {/* Spotlight Gradient */}
                    <div
                        className="pointer-events-none absolute -inset-px opacity-0 transition duration-300"
                        style={{
                            opacity,
                            background: `radial-gradient(600px circle at ${position.x}px ${position.y}px, rgba(255,255,255,0.06), transparent 40%)`,
                        }}
                    />

                    {/* --- Badge Rendering Logic --- */}
                    {app.badge && (
                        <div className="absolute top-0 right-0 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-lg z-20 animate-fade-in tracking-wider">
                        {app.badge}
                        </div>
                    )}
                    
                    {/* Inner Card Content */}
                    <div className="relative h-full flex flex-col p-6 z-10">
                        <div className="flex justify-between items-start mb-5">
                            <div className={`w-14 h-14 rounded-2xl bg-gradient-to-br ${app.color} flex items-center justify-center shadow-lg shadow-black/20 group-hover:shadow-purple-500/20 transition-all duration-300 ring-1 ring-white/20`}>
                                {getIcon(app.icon)}
                            </div>
                            
                            <div className="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0">
                                <button 
                                    onClick={() => onDelete(app.id)}
                                    className="p-2 text-slate-400 hover:text-rose-400 hover:bg-rose-500/10 rounded-xl transition-colors"
                                    title="Remove App"
                                >
                                    <X size={18} />
                                </button>
                                <a 
                                    href={selectedUrl} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="p-2 text-slate-300 hover:text-white bg-white/5 hover:bg-indigo-600 rounded-xl transition-all border border-white/5"
                                >
                                    <ExternalLink size={18} />
                                </a>
                            </div>
                        </div>
                        
                        <div className="mb-4 flex-1">
                            <span className="inline-flex items-center px-2.5 py-0.5 rounded-md bg-white/5 border border-white/10 text-[10px] font-bold text-purple-200 uppercase tracking-wider mb-3 backdrop-blur-sm">
                                {app.category}
                            </span>
                            <h3 className="text-xl font-bold text-white mb-2 leading-tight group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-white group-hover:to-purple-200 transition-all">
                                {app.title}
                            </h3>
                            <p className="text-sm text-slate-400 leading-relaxed">
                                {app.description}
                            </p>
                        </div>

                        {/* Combo Box (Dropdown) logic */}
                        {hasOptions && (
                        <div className="mb-3 group/select">
                            {/* Header Section */}
                            <div className="flex justify-between items-center mb-1.5 px-1">
                                <span className="text-[10px] font-bold text-slate-500 uppercase tracking-wider">Available Options</span>
                                <span className="text-[10px] font-bold text-indigo-300 bg-indigo-500/10 px-2 py-0.5 rounded-md border border-indigo-500/20">
                                    {app.options.length}
                                </span>
                            </div>

                            {/* Select Box Wrapper - Separated for correct icon positioning */}
                            <div className="relative">
                                <select 
                                onChange={(e) => setSelectedUrl(e.target.value)}
                                className="w-full appearance-none bg-slate-900/50 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-slate-200 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all cursor-pointer hover:bg-slate-800/50"
                                >
                                {app.options.map((opt, idx) => (
                                    <option key={idx} value={opt.url} className="bg-slate-900 text-white">
                                    {opt.label}
                                    </option>
                                ))}
                                </select>
                                {/* Icon is now centered relative to the select box only */}
                                <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                                <ChevronDown size={16} />
                                </div>
                            </div>
                        </div>
                        )}

                        <a 
                            href={selectedUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="relative w-full flex items-center justify-center py-3 rounded-xl bg-slate-900/50 border border-white/10 text-sm font-semibold text-slate-300 overflow-hidden group/btn"
                        >
                            <span className="absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"></span>
                            <span className="relative z-10 group-hover/btn:text-white transition-colors flex items-center gap-2">
                                Launch App <ExternalLink size={14} />
                            </span>
                        </a>
                    </div>
                </div>
            );
        };

        const AddAppModal = ({ onClose, onAdd }) => {
            const [formData, setFormData] = useState({
                title: '',
                description: '',
                category: 'Other',
                url: '',
                color: 'from-indigo-500 to-purple-500',
                icon: 'code'
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAdd(formData);
            };

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-fade-in">
                    <div className="bg-[#1e293b] rounded-2xl border border-white/10 w-full max-w-md shadow-2xl overflow-hidden relative">
                        <div className="absolute top-0 left-1/2 -translate-x-1/2 w-full h-2 bg-gradient-to-r from-indigo-500 to-purple-500 blur-md"></div>

                        <div className="flex justify-between items-center p-6 border-b border-white/5">
                            <h3 className="text-xl font-bold text-white">Add New App</h3>
                            <button onClick={onClose} className="text-slate-400 hover:text-white transition-colors">
                                <X size={20} />
                            </button>
                        </div>
                        
                        <form onSubmit={handleSubmit} className="p-6 space-y-5">
                            <div>
                                <label className="block text-xs font-bold text-slate-400 uppercase mb-1.5 ml-1">App Title</label>
                                <input 
                                    required
                                    type="text" 
                                    className="w-full bg-slate-900/50 border border-white/10 rounded-xl px-4 py-3 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none transition-all text-white placeholder:text-slate-600"
                                    placeholder="e.g. Marketing Dashboard"
                                    value={formData.title}
                                    onChange={e => setFormData({...formData, title: e.target.value})}
                                />
                            </div>

                            <div>
                                <label className="block text-xs font-bold text-slate-400 uppercase mb-1.5 ml-1">Description</label>
                                <textarea 
                                    className="w-full bg-slate-900/50 border border-white/10 rounded-xl px-4 py-3 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none transition-all h-24 resize-none text-white placeholder:text-slate-600"
                                    placeholder="Brief description of the app..."
                                    value={formData.description}
                                    onChange={e => setFormData({...formData, description: e.target.value})}
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-xs font-bold text-slate-400 uppercase mb-1.5 ml-1">Category</label>
                                    <select 
                                        className="w-full bg-slate-900/50 border border-white/10 rounded-xl px-4 py-3 focus:border-purple-500 outline-none text-white appearance-none"
                                        value={formData.category}
                                        onChange={e => setFormData({...formData, category: e.target.value})}
                                    >
                                        {CATEGORIES.filter(c => c !== "All").map(c => (
                                            <option key={c} value={c}>{c}</option>
                                        ))}
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-xs font-bold text-slate-400 uppercase mb-1.5 ml-1">Color Theme</label>
                                    <select 
                                        className="w-full bg-slate-900/50 border border-white/10 rounded-xl px-4 py-3 focus:border-purple-500 outline-none text-white appearance-none"
                                        value={formData.color}
                                        onChange={e => setFormData({...formData, color: e.target.value})}
                                    >
                                        <option value="from-indigo-500 to-purple-500">Indigo</option>
                                        <option value="from-purple-500 to-pink-500">Purple</option>
                                        <option value="from-emerald-500 to-teal-500">Emerald</option>
                                        <option value="from-orange-500 to-red-500">Orange</option>
                                        <option value="from-blue-500 to-cyan-500">Blue</option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label className="block text-xs font-bold text-slate-400 uppercase mb-1.5 ml-1">URL</label>
                                <input 
                                    required
                                    type="url" 
                                    className="w-full bg-slate-900/50 border border-white/10 rounded-xl px-4 py-3 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none transition-all text-white placeholder:text-slate-600"
                                    placeholder="https://"
                                    value={formData.url}
                                    onChange={e => setFormData({...formData, url: e.target.value})}
                                />
                            </div>

                            <div className="pt-4 flex gap-3">
                                <button 
                                    type="button"
                                    onClick={onClose}
                                    className="flex-1 px-4 py-3 rounded-xl border border-white/10 hover:bg-white/5 transition-colors text-slate-300 font-medium"
                                >
                                    Cancel
                                </button>
                                <button 
                                    type="submit"
                                    className="flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 transition-all text-white font-medium shadow-lg shadow-purple-600/20"
                                >
                                    Add App
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        // --- 3. Main App ---

        function App() {
            const [apps, setApps] = useState(INITIAL_APPS);
            const [filter, setFilter] = useState("All");
            const [searchQuery, setSearchQuery] = useState("");
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const [notificationCount, setNotificationCount] = useState(3);
            const [mounted, setMounted] = useState(false);

            useEffect(() => {
                setMounted(true);
                const savedApps = localStorage.getItem('dss-portal-v10'); // Updated version to force refresh
                if (savedApps) {
                    setApps(JSON.parse(savedApps));
                } else {
                    setApps(INITIAL_APPS);
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('dss-portal-v10', JSON.stringify(apps));
            }, [apps]);

            const handleAddApp = (newApp) => {
                const appWithId = { ...newApp, id: Date.now() };
                setApps([...apps, appWithId]);
                setIsModalOpen(false);
            };

            const handleDeleteApp = (id) => {
                if (confirm('Remove this app from your portal?')) {
                    setApps(apps.filter(app => app.id !== id));
                }
            };

            const filteredApps = apps.filter(app => {
                const matchesCategory = filter === "All" || app.category === filter;
                const matchesSearch = app.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                                      app.description.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            return (
                <div className="min-h-screen bg-[#0f172a] text-white font-sans selection:bg-fuchsia-500 selection:text-white overflow-hidden relative">
                
                    {/* --- Animated Background --- */}
                    <div className="fixed inset-0 z-0">
                        <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-purple-600/20 blur-[120px] animate-pulse-slow"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-blue-600/20 blur-[120px] animate-pulse-slow delay-1000"></div>
                        <div className="absolute top-[20%] right-[20%] w-[20%] h-[20%] rounded-full bg-fuchsia-600/10 blur-[80px] animate-float"></div>
                    </div>

                    {/* --- Mobile Navigation Overlay --- */}
                    {isMobileMenuOpen && (
                        <div className="fixed inset-0 z-50 bg-slate-900/95 backdrop-blur-xl p-6 flex flex-col animate-fade-in">
                            <div className="flex justify-between items-center mb-8">
                                <div className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">
                                    DSS Portal
                                </div>
                                <button onClick={() => setIsMobileMenuOpen(false)} className="p-2 hover:bg-white/10 rounded-full transition-colors">
                                    <X size={24} />
                                </button>
                            </div>
                            <nav className="space-y-6 text-lg">
                                {['Dashboard'].map((item) => (
                                    <button key={item} className="block w-full text-left py-2 border-b border-white/10 hover:text-purple-400 transition-colors">
                                        {item}
                                    </button>
                                ))}
                            </nav>
                        </div>
                    )}

                    {/* --- Sidebar (Desktop) --- */}
                    <aside className="fixed top-0 left-0 h-full w-72 bg-slate-900/40 backdrop-blur-xl border-r border-white/5 hidden md:flex flex-col z-40 shadow-2xl">
                        <div className="p-8 border-b border-white/5">
                            <div className="flex items-center gap-4">
                                <div className="relative group">
                                    <div className="absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl blur opacity-75 group-hover:opacity-100 transition duration-200"></div>
                                    <div className="relative w-12 h-12 rounded-xl bg-slate-900 flex items-center justify-center border border-white/10">
                                        <span className="font-bold text-lg text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">NSL</span>
                                    </div>
                                </div>
                                <div>
                                    <h1 className="font-bold text-xl tracking-tight text-white">NSL DSS</h1>
                                    <span className="text-xs font-medium text-slate-400 tracking-wide uppercase">Internal Hub</span>
                                </div>
                            </div>
                        </div>

                        <nav className="flex-1 p-6 space-y-2">
                            <NavItem icon={<LayoutDashboard size={20} />} label="Dashboard" active />
                        </nav>

                        <div className="p-6">
                            <div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-white/5 p-4 backdrop-blur-md group cursor-pointer hover:border-white/10 transition-all">
                                <div className="flex items-center gap-4">
                                    <div className="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 p-[2px]">
                                        <div className="w-full h-full rounded-full bg-slate-900 flex items-center justify-center">
                                            <User size={16} className="text-white" />
                                        </div>
                                    </div>
                                    <div>
                                        <div className="text-sm font-bold text-white group-hover:text-purple-300 transition-colors">Golf</div>
                                        <div className="text-xs text-slate-400">Marketing & Data</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </aside>

                    {/* --- Main Content --- */}
                    <main className="md:ml-72 min-h-screen flex flex-col relative z-10">
                        
                        {/* Header */}
                        <header className="sticky top-0 z-30 bg-slate-900/60 backdrop-blur-xl border-b border-white/5 px-8 py-5 flex items-center justify-between">
                            <div className="flex items-center gap-4 md:hidden">
                                <button onClick={() => setIsMobileMenuOpen(true)} className="p-2 -ml-2 hover:bg-white/10 rounded-lg transition-colors">
                                    <Menu size={24} />
                                </button>
                                <span className="font-bold text-lg tracking-tight">DSS Portal</span>
                            </div>

                            {/* Search Bar */}
                            <div className="hidden md:flex items-center flex-1 max-w-xl relative group">
                                <div className="absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition duration-500"></div>
                                <div className="relative w-full bg-slate-800/50 rounded-2xl border border-white/10 px-5 py-3 flex items-center focus-within:border-purple-500/50 focus-within:bg-slate-800/80 transition-all shadow-lg shadow-black/20">
                                    <Search size={18} className="text-slate-400 mr-3 group-focus-within:text-purple-400 transition-colors" />
                                    <input 
                                        type="text" 
                                        placeholder="Search apps..." 
                                        className="bg-transparent border-none outline-none w-full text-sm placeholder:text-slate-500 text-white"
                                        value={searchQuery}
                                        onChange={(e) => setSearchQuery(e.target.value)}
                                    />
                                </div>
                            </div>

                            <div className="flex items-center gap-4 pl-6">
                                <button className="relative p-3 rounded-xl bg-slate-800/50 border border-white/5 hover:bg-slate-700/50 transition-all group">
                                    <Bell size={20} className="text-slate-400 group-hover:text-white transition-colors" />
                                    {notificationCount > 0 && (
                                        <span className="absolute top-2 right-2.5 w-2 h-2 bg-rose-500 rounded-full shadow-[0_0_8px_rgba(244,63,94,0.6)] animate-pulse"></span>
                                    )}
                                </button>
                            </div>
                        </header>

                        {/* Dashboard Content */}
                        <div className="flex-1 p-4 md:p-10 overflow-y-auto custom-scrollbar">
                            
                            {/* Hero Section */}
                            <div className={`mb-10 transform transition-all duration-700 ${mounted ? 'translate-y-0 opacity-100' : 'translate-y-4 opacity-0'}`}>
                                <div className="flex flex-col md:flex-row justify-between items-end gap-4">
                                    <div>
                                        <h2 className="text-4xl font-bold mb-2 tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-slate-400">
                                            The Portal Web App
                                        </h2>
                                        <p className="text-slate-400 text-lg max-w-2xl">
                                            Your centralized command center for DSS tools, marketing insights, and project analytics.
                                        </p>
                                    </div>
                                    <div className="text-right hidden md:block">
                                        <div className="text-sm text-slate-400 mb-1">Current System Status</div>
                                        <div className="flex items-center justify-end gap-2">
                                            <div className="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.6)] animate-pulse"></div>
                                            <span className="text-emerald-400 font-medium">All Systems Operational</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Categories */}
                            <div className="flex flex-wrap items-center gap-3 mb-8 overflow-x-auto pb-4 scrollbar-hide">
                                {CATEGORIES.map((cat, idx) => (
                                    <button
                                        key={cat}
                                        onClick={() => setFilter(cat)}
                                        style={{ animationDelay: `${idx * 50}ms` }}
                                        className={`relative px-5 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-300 animate-slide-in-right ${
                                            filter === cat 
                                                ? 'text-white shadow-lg shadow-purple-500/25 scale-105' 
                                                : 'bg-slate-800/40 text-slate-400 hover:bg-slate-700/60 hover:text-white border border-white/5'
                                        }`}
                                    >
                                        {filter === cat && (
                                            <div className="absolute inset-0 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 -z-10"></div>
                                        )}
                                        {cat}
                                    </button>
                                ))}
                            </div>

                            {/* Apps Grid */}
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12">
                                {filteredApps.map((app, index) => (
                                    <SpotlightCard 
                                        key={app.id} 
                                        app={app} 
                                        index={index}
                                        onDelete={handleDeleteApp} 
                                    />
                                ))}
                            </div>

                            {filteredApps.length === 0 && (
                                <div className="text-center py-20 rounded-3xl bg-slate-800/30 border border-white/5 border-dashed mb-12 backdrop-blur-sm">
                                    <div className="w-16 h-16 rounded-full bg-slate-800 mx-auto flex items-center justify-center mb-4">
                                        <Search size={24} className="text-slate-600" />
                                    </div>
                                    <h3 className="text-lg font-medium text-white">No apps found</h3>
                                    <p className="text-slate-500 mt-1">Try adjusting your filters or search query.</p>
                                </div>
                            )}

                            {/* Stats Section */}
                            <div className="relative">
                                <div className="flex items-center gap-2 mb-6">
                                    <Sparkles size={18} className="text-amber-400" />
                                    <h3 className="text-lg font-bold text-white">System Overview</h3>
                                </div>
                                
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                    <GlassStatCard title="Active Campaigns" value="1" trend="+100%" positive={true} icon={<Briefcase size={20} />} color="text-purple-400" delay={0} />
                                    <GlassStatCard title="Data Queries" value="1,240" trend="+15%" positive={true} icon={<Code size={20} />} color="text-blue-400" delay={100} />
                                    <GlassStatCard title="Design Tasks" value="5" trend="-1" positive={false} icon={<Palette size={20} />} color="text-pink-400" delay={200} />
                                    <GlassStatCard title="Server Status" value="99.9%" trend="Optimal" positive={true} icon={<Globe size={20} />} color="text-emerald-400" delay={300} />
                                </div>
                            </div>

                        </div>
                    </main>

                    {/* --- Add App Modal --- */}
                    {isModalOpen && (
                        <AddAppModal 
                            onClose={() => setIsModalOpen(false)} 
                            onAdd={handleAddApp} 
                        />
                    )}
                </div>
            );
        }

        // Render App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
